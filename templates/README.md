TODO

- move rendering inside dispatcher
- 


